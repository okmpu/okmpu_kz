{% load static %}
{% load i18n %}
<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Zhanibekov University{% endblock title %}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/flowbite@2.5.1/dist/flowbite.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.1/dist/flowbite.min.js"></script>
    <link rel="shortcut icon" href="{% static '/images/icon.png' %}" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter+Tight:wght@100;200;300;400;500;600;700;800;900&family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {},
                fontFamily: {
                    inter: ['Inter Tight', 'sans-serif'],
                    poppins: ['Poppins', 'sans-serif'],
                },
            }
        }
    </script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <style>
        #text-content {
            text-align: justify;
        }

        #text-content ul {
            list-style: disc;
        }
        
        #text-content ul li, #text-content ol li {
            margin-left: 20px;
        }

        #text-content ol {
            list-style: decimal;
        }
        #text-content table {
            border: 1px solid silver;
            border-collapse: collapse;
        }
        #text-content table th, td {
            border: 1px solid silver;
        }
    </style>
</head>

<body class="font-inter text-lg min-h-screen flex flex-col">
    <div class="flex-1">
        <!-- Header -->
        <header class="border-b">
            <div class="bg-amber-500">
                <div class="container mx-auto px-4 py-2 flex justify-between">
                    <a href="https://platonus.okmpu.kz/" target="_blank" class="text-white">
                        Platonus
                    </a>
                    <a href="https://okmpu.documentolog.kz/" target="_blank" class="text-white">
                        eDocs
                    </a>
                    <a href="https://kpi.okmpu.kz/" target="_blank" class="text-white">
                        KPI
                    </a>
                    <a href="https://library.okmpu.kz/" target="_blank" class="text-white">
                        {% translate 'Library' %}
                    </a>
                    <a href="https://eotinish.gov.kz/" target="_blank" class="text-white">
                        e-Otinish
                    </a>
                    <a href="https://talapker.okmpu.kz/" target="_blank" class="text-white">
                        Talapker
                    </a>
                </div>
            </div>

            <div class="container mx-auto p-4 flex justify-between items-center">
                <a href="{% url 'home' %}" class="flex items-center space-x-3 rtl:space-x-reverse">
                    <img src="{% static '/images/logo.png' %}" class="w-48" alt="Zhanibekov university logo" />
                </a>

                <div class="hidden lg:block">
                    <img src="{% static '/images/blockquot.png' %}" alt="" class="w-[580px]">
                </div>

                <div class="flex justify-between items-center">
                    <button data-collapse-toggle="navbar-multi-level" type="button"
                        class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200"
                        aria-controls="navbar-multi-level" aria-expanded="false">
                        <span class="sr-only">Open main menu</span>
                        <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                            viewBox="0 0 17 14">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M1 1h15M1 7h15M1 13h15" />
                        </svg>
                    </button>
                    <form action="{% url 'set_language' %}" method="post" class="flex items-center space-x-4">
                        {% csrf_token %}
                        
                        <div class="relative">
                          <select name="language" onchange="this.form.submit()" class="block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-700 focus:border-blue-700">
                            {% get_current_language as LANGUAGE_CODE %}
                            {% get_available_languages as LANGUAGES %}
                            {% get_language_info_list for LANGUAGES as languages %}
                            {% for language in languages %}
                              <option value="{{ language.code }}" {% if language.code == LANGUAGE_CODE %}selected{% endif %}>
                                {{ language.name_local }}
                              </option>
                            {% endfor %}
                          </select>
                        </div>
                        <input type="hidden" name="next" value="{{ request.path }}">
                    </form>
                </div>
            </div>
        </header>

        <nav class="bg-white lg:border-b lg:sticky lg:top-0 lg:z-40">
            <div class="lg:container mx-auto px-4 py-2">
                <div class="hidden w-full lg:block lg:w-auto" id="navbar-multi-level">
                    <ul
                        class="flex flex-col justify-center font-medium p-4 lg:p-0 mt-4 border border-gray-100 rounded-lg bg-gray-50 lg:space-x-8 rtl:space-x-reverse lg:flex-row lg:mt-0 lg:border-0 lg:bg-white dark:bg-gray-800 lg:dark:bg-gray-900 dark:border-gray-700">
                        <li>
                            <a href="{% url 'home' %}"
                                class="block py-2 px-3 text-white whitespace-nowrap bg-blue-700 rounded lg:bg-transparent lg:text-blue-700 lg:p-0 lg:dark:text-blue-700 dark:bg-blue-600 lg:dark:bg-transparent"
                                aria-current="page">{% translate 'Home page' %}</a>
                        </li>
                        {% for category in categories %}
                            <li>
                                <button 
                                    id="dropdownNavbarLink-{{ category.id }}" data-dropdown-toggle="dropdownNavbar-{{ category.id }}"
                                    class="flex items-center justify-between whitespace-nowrap w-full py-2 px-3 text-gray-900 hover:bg-gray-100 lg:hover:bg-transparent lg:border-0 lg:hover:text-blue-700 lg:p-0 lg:w-auto lg:dark:hover:text-blue-700 lg:dark:hover:bg-transparent"
                                >
                                    {{ category.name }}
                                    
                                    {% if category.children.all|length > 0 %}
                                        <svg class="w-2.5 h-2.5 ms-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                                            fill="none" viewBox="0 0 10 6">
                                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                                stroke-width="2" d="m1 1 4 4 4-4" />
                                        </svg>
                                    {% endif %}
                                </button>

                                <div id="dropdownNavbar-{{ category.id }}"
                                    class="z-10 hidden font-normal bg-white divide-y divide-gray-100 rounded-lg shadow">
                                    <ul 
                                        class="py-2 text-gray-700"
                                        aria-labelledby="dropdownLargeButton"
                                    >
                                        {% for sub_category in category.children.all %}
                                            <li aria-labelledby="dropdownNavbarLink">
                                                <button id="doubleDropdownButton-{{ sub_category.id }}" data-dropdown-toggle="doubleDropdown-{{ sub_category.id }}"
                                                    data-dropdown-placement="right-start" type="button"
                                                    class="flex items-center justify-between w-full px-4 py-2 hover:bg-gray-100"
                                                >
                                                    {{ sub_category.name }}

                                                    {% if sub_category.children.all|length > 0 %}
                                                        <svg
                                                            class="w-2.5 h-2.5 ms-2.5" aria-hidden="true"
                                                            xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                                                            <path stroke="currentColor" stroke-linecap="round"
                                                                stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4" />
                                                        </svg>
                                                    {% endif %}
                                                </button>
                                                <div id="doubleDropdown-{{ sub_category.id }}"
                                                    class="w-full sm:w-[360px] z-10 hidden bg-white divide-y divide-gray-100 rounded-lg shadow">
                                                    <ul class="py-2 text-gray-700"
                                                        aria-labelledby="doubleDropdownButton-{{ sub_category.id }}"
                                                    >
                                                        {% for section in sub_category.children.all %}
                                                            <li>
                                                                <a 
                                                                    href="{% if section.app_name == 'content' %}{% url 'content_detail' category.slug sub_category.slug section.slug section.slug %}{% elif section.app_name == 'university' %}/university/{{ section.slug }}{% else %}{{ section.url }}{% endif %}"
                                                                    class="flex items-center gap-2 px-4 py-2 hover:bg-gray-100"
                                                                    target="{% if section.target %}_blank{% else %}_self{% endif %}"
                                                                >
                                                                    {% if section.app_name == 'none' %}
                                                                        <svg class="w-6 h-6" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                                                                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.213 9.787a3.391 3.391 0 0 0-4.795 0l-3.425 3.426a3.39 3.39 0 0 0 4.795 4.794l.321-.304m-.321-4.49a3.39 3.39 0 0 0 4.795 0l3.424-3.426a3.39 3.39 0 0 0-4.794-4.795l-1.028.961"/>
                                                                        </svg>
                                                                    {% endif %}
                                                                    
                                                                    <span class="flex-1">
                                                                        {{ section.name }}
                                                                    </span>
                                                                </a>
                                                            </li>
                                                        {% endfor %}
                                                    </ul>
                                                </div>
                                            </li>
                                        {% endfor %}
                                    </ul>
                                </div>
                            </li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </nav>

        <div>
            {% block content %}
            {% endblock content %}
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-white border-t">
        <div class="container mx-auto px-4 py-6 lg:py-8">
            <div class="md:flex md:gap-10">
                <div class="mb-6 md:mb-0">
                    <a href="{% url 'home' %}" class="flex items-center">
                        <img src="{% static '/images/logo.png' %}" class="w-48" alt="Zhanibekov university logo" />
                    </a>
                </div>
                <div class="grid grid-cols-2 gap-8 sm:gap-6 sm:grid-cols-3">
                    <div>
                        <h2 class="mb-6 text-sm font-bold text-gray-900 uppercase dark:text-white">
                            {% translate 'Navigation' %}
                        </h2>
                        <ul class="text-gray-500 font-medium grid gap-2">
                            <li>
                                <a href="{% url 'home' %}" class="hover:underline">{% translate 'Home page' %}</a>
                            </li>
                            <li>
                                <a href="#" class="hover:underline">{% translate 'News' %}</a>
                            </li>
                            <li>
                                <a href="#" class="hover:underline">{% translate 'Announcements' %}</a>
                            </li>
                            <li>
                                <a href="#" class="hover:underline">{% translate 'Events' %}</a>
                            </li>
                        </ul>
                    </div>
                    <div>
                        <h2 class="mb-6 text-sm font-bold text-gray-900 uppercase">
                            {% translate 'Faculties' %}
                        </h2>
                        <ul class="text-gray-500 font-medium grid gap-2">
                            {% for item in faculties %}
                                <li>
                                    <a href="{% url 'faculty_detail' item.slug %}" class="hover:underline ">{{ item.name }}</a>
                                </li>
                            {% endfor %}
                        </ul>
                    </div>
                    <div>
                        <h2 class="mb-6 text-sm font-bold text-gray-900 uppercase dark:text-white">
                            {% translate 'Resources' %}
                        </h2>
                        <ul class="text-gray-500 font-medium grid gap-2">
                            <li>
                                <a href="https://platonus.okmpu.kz/" target="_blank">
                                    Platonus
                                </a>
                            </li>
                            <li>
                                <a href="https://okmpu.documentolog.kz/" target="_blank">
                                    eDocs
                                </a>
                            </li>
                            <li>
                                <a href="https://kpi.okmpu.kz/" target="_blank">
                                    KPI
                                </a>
                            </li>
                            <li>
                                <a href="https://library.okmpu.kz/" target="_blank">
                                    {% translate 'Library' %}
                                </a>
                            </li>
                            <li>
                                <a href="https://eotinish.gov.kz/" target="_blank">
                                    e-Otinish
                                </a>
                            </li>
                            <li>
                                <a href="https://talapker.okmpu.kz/" target="_blank">
                                    Talapker
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <hr class="my-6 border-gray-200 sm:mx-auto lg:my-8" />
            <div class="sm:flex sm:items-center sm:justify-between">
                <span class="text-gray-500 sm:text-center">© 2024
                    <a href="https://flowbite.com/" class="hover:underline">
                        Zhanibekov University
                    </a>.
                    {% translate 'All copyrights are protected.' %}
                </span>
                <div class="flex gap-2 mt-4 sm:justify-center sm:mt-0">
                    <a 
                        href="https://www.facebook.com/oqmpu?mibextid=ZbWKwL" 
                        class="text-gray-500 hover:text-gray-900"
                        target="_blank"
                    >
                        <svg class="w-6 h-6" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor"
                            viewBox="0 0 8 19">
                            <path fill-rule="evenodd"
                                d="M6.135 3H8V0H6.135a4.147 4.147 0 0 0-4.142 4.142V6H0v3h2v9.938h3V9h2.021l.592-3H5V3.591A.6.6 0 0 1 5.592 3h.543Z"
                                clip-rule="evenodd" />
                        </svg>
                        <span class="sr-only">Facebook page</span>
                    </a>

                    <a 
                        href="https://www.instagram.com/zhanibekovuniversity/" 
                        class="text-gray-500 hover:text-gray-900"
                        target="_blank"    
                    >
                        <svg class="w-6 h-6" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                            <path fill="currentColor" fill-rule="evenodd" d="M3 8a5 5 0 0 1 5-5h8a5 5 0 0 1 5 5v8a5 5 0 0 1-5 5H8a5 5 0 0 1-5-5V8Zm5-3a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3V8a3 3 0 0 0-3-3H8Zm7.597 2.214a1 1 0 0 1 1-1h.01a1 1 0 1 1 0 2h-.01a1 1 0 0 1-1-1ZM12 9a3 3 0 1 0 0 6 3 3 0 0 0 0-6Zm-5 3a5 5 0 1 1 10 0 5 5 0 0 1-10 0Z" clip-rule="evenodd"/>
                        </svg>
                        <span class="sr-only">Instagram page</span>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- CDN -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-element-bundle.min.js"></script>
    <script>
        AOS.init();
    </script>
</body>

</html>